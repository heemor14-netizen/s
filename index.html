<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ØµÙ†Ø§Ø¹ÙŠØªÙƒ</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --accent:#2563eb;
  --card:#ffffff;
  --text:#1e293b;
  --muted:#64748b;
  --star:#facc15;
}
*{box-sizing:border-box}

body{
  margin:0;
  font-family:'Cairo',sans-serif;
  background:linear-gradient(135deg,#0f172a,#1e293b);
  color:#fff;
}

header{text-align:center;padding:40px 20px}
header p{color:#cbd5f5}

.search-box{max-width:500px;margin:30px auto}
.search-box input{width:100%;padding:14px;border-radius:12px;border:none}

/* ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
.login-box{
  position:absolute;
  top:20px;
  left:20px;
  display:flex;
  align-items:center;
  gap:10px;
}
.login-btn{
  background:transparent;
  border:1px solid #cbd5f5;
  color:#fff;
  padding:8px 14px;
  border-radius:20px;
  cursor:pointer;
  transition:.3s;
}
.login-btn:hover{background:#2563eb}
.avatar{
  width:36px;
  height:36px;
  border-radius:50%;
  display:none;
}

/* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
.categories-wrapper{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  margin:25px 0;
}
.categories{
  display:flex;
  gap:30px;
  overflow-x:auto;
  scrollbar-width:none;
}
.categories::-webkit-scrollbar{display:none}
.categories button{
  background:none;
  border:none;
  color:#e5e7eb;
  font-size:16px;
  cursor:pointer;
}
.categories button:hover{color:#fff}
.arrow{
  background:none;
  border:none;
  color:#cbd5f5;
  font-size:28px;
  cursor:pointer;
}

/* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
.container{width:90%;max-width:1200px;margin:40px auto}
.section{margin-bottom:60px}
.section h2{border-right:6px solid var(--accent);padding-right:15px}

.cards{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:22px
}
.card{
  background:var(--card);
  color:var(--text);
  border-radius:16px;
  padding:22px;
  box-shadow:0 15px 35px rgba(0,0,0,.2);
  position:relative
}
.card p{color:var(--muted)}
.rating{color:var(--star)}
.location{font-size:13px;color:#475569}

.delete-btn{
  position:absolute;
  top:10px;
  right:10px;
  background:red;
  color:#fff;
  border:none;
  padding:5px 10px;
  border-radius:5px;
  cursor:pointer
}

/* Ø¯Ø¹Ù… ÙÙ†ÙŠ */
.support{
  background:#16a34a;
  margin:40px auto 10px;
  padding:18px;
  border-radius:16px;
  text-align:center;
  max-width:400px;
  transition:.3s;
}
.support:hover{
  transform:translateY(-5px);
  box-shadow:0 10px 30px rgba(22,163,74,.6);
}
.support a{
  color:#fff;
  text-decoration:none;
  font-weight:600;
}

footer{text-align:center;padding:20px;color:#cbd5f5}

/* Ø§Ù„Ø¬ÙˆØ§Ù„ */
@media(max-width:768px){
  .login-box{position:static;justify-content:center;margin-bottom:20px}
}
</style>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged }
from "https://www.gstatic.com/firebasejs/10.6.0/firebase-auth.js";
import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc }
from "https://www.gstatic.com/firebasejs/10.6.0/firebase-firestore.js";

/* Firebase Ø§Ù„Ù‚Ø¯ÙŠÙ… */
const firebaseConfig = {
  apiKey: "AIzaSyBdhesRwD2eiDvqqcMGhC59U4whICwTO3E",
  authDomain: "sanaeya-samtah.firebaseapp.com",
  projectId: "sanaeya-samtah",
  storageBucket: "sanaeya-samtah.firebasestorage.app",
  messagingSenderId: "1092994215610",
  appId: "1:1092994215610:web:e68b5a3eccb24235d39c83"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const provider = new GoogleAuthProvider();

const ADMINS=["heemoxo41430@gmail.com","heemor14@gmail.com"];
const isAdmin=u=>u && ADMINS.includes(u.email);

window.login=async()=>{
  const r=await signInWithPopup(auth,provider);
};

onAuthStateChanged(auth,u=>{
  if(u){
    localStorage.setItem("user",JSON.stringify(u));
    document.getElementById("avatar").src=u.photoURL;
    document.getElementById("avatar").style.display="block";
    document.getElementById("loginBtn").style.display="none";
  }
  load();
});

async function load(){
  carsCards.innerHTML="";
  metalCards.innerHTML="";
  sofaCards.innerHTML="";
  aluminumCards.innerHTML="";
  const q=await getDocs(collection(db,"workshops"));
  q.forEach(d=>{
    const w=d.data();
    const c=document.createElement("div");
    c.className="card";
    c.innerHTML=`
      <h3>${w.name}</h3>
      <p>${w.spec}</p>
      <div class="rating">${"â˜…â˜…â˜…â˜…â˜…â˜†â˜†â˜†â˜†â˜†".slice(5-w.rate,10-w.rate)}</div>
      <div class="location">ğŸ“ ${w.phone}</div>
      <div class="location">ğŸ“ ${w.loc}</div>`;
    if(isAdmin(auth.currentUser)){
      const b=document.createElement("button");
      b.className="delete-btn";
      b.innerText="Ø­Ø°Ù";
      b.onclick=()=>deleteDoc(doc(db,"workshops",d.id));
      c.appendChild(b);
    }
    document.getElementById(w.cat+"Cards").appendChild(c);
  });
}

window.goTo=id=>{
  document.getElementById(id).scrollIntoView({behavior:"smooth"});
};
window.scrollCats=v=>{
  document.getElementById("categories").scrollBy({left:v,behavior:"smooth"});
};
</script>
</head>

<body>

<div class="login-box">
  <button class="login-btn" id="loginBtn" onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
  <img id="avatar" class="avatar">
</div>

<header>
  <h1>ØµÙ†Ø§Ø¹ÙŠØªÙƒ</h1>
  <p>Ø¯Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„ ÙŠØ¬Ù…Ø¹ Ø¬Ù…ÙŠØ¹ ÙˆØ±Ø´ Ø¬Ø§Ø²Ø§Ù† </p>

  <div class="categories-wrapper">
    <button class="arrow" onclick="scrollCats(200)">â€¹</button>
    <div class="categories" id="categories">
      <button onclick="goTo('cars')">ğŸš— Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</button>
      <button onclick="goTo('metal')">ğŸ”¨ Ø§Ù„Ø­Ø¯Ø§Ø¯Ø©</button>
      <button onclick="goTo('sofa')">ğŸ›‹ï¸ Ø§Ù„ÙƒÙ†Ø¨</button>
      <button onclick="goTo('aluminum')">ğŸªŸ Ø§Ù„Ø£Ù„Ù…Ù†ÙŠÙˆÙ…</button>
    </div>
    <button class="arrow" onclick="scrollCats(-200)">â€º</button>
  </div>

  <div class="search-box">
    <input placeholder="ğŸ” Ø§Ø¨Ø­Ø«">
  </div>
</header>

<div class="container">

<section class="section" id="cars">
<h2>ÙˆØ±Ø´ Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</h2>
<div class="cards" id="carsCards"></div>
</section>

<section class="section" id="metal">
<h2>ÙˆØ±Ø´ Ø§Ù„Ø­Ø¯Ø§Ø¯Ø©</h2>
<div class="cards" id="metalCards"></div>
</section>

<section class="section" id="sofa">
<h2>ÙˆØ±Ø´ Ø§Ù„ÙƒÙ†Ø¨</h2>
<div class="cards" id="sofaCards"></div>
</section>

<section class="section" id="aluminum">
<h2>ÙˆØ±Ø´ Ø§Ù„Ø£Ù„Ù…Ù†ÙŠÙˆÙ…</h2>
<div class="cards" id="aluminumCards"></div>
</section>

<div class="support">
  <a href="https://wa.me/966531991617" target="_blank">
    ğŸ’¬ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ â€“ ØªÙˆØ§ØµÙ„ ÙˆØ§ØªØ³Ø§Ø¨
  </a>
</div>

</div>

<footer>Â© 2025 | ØµÙ†Ø§Ø¹ÙŠØªÙƒ</footer>
</body>
</html>


