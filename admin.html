<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… | Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
  font-family:'Cairo';
  background:#0f172a;
  color:#fff;
  margin:0;
}
.container{
  max-width:500px;
  margin:60px auto;
}
.card{
  background:#fff;
  color:#1e293b;
  padding:25px;
  border-radius:16px;
}
input,select,button{
  width:100%;
  padding:12px;
  margin-bottom:12px;
  border-radius:10px;
}
button{
  background:#2563eb;
  color:#fff;
  border:none;
  cursor:pointer;
}
.hidden{display:none}
</style>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
import { getAuth, signInWithPopup, GoogleAuthProvider }
from "https://www.gstatic.com/firebasejs/10.6.0/firebase-auth.js";
import { getFirestore, collection, addDoc }
from "https://www.gstatic.com/firebasejs/10.6.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyD5MrbyqmXoGgFKB_gvY6DX_5bGdbTyh9o",
  authDomain: "heemo-d02f2.firebaseapp.com",
  projectId: "heemo-d02f2",
  storageBucket: "heemo-d02f2.appspot.com",
  messagingSenderId: "777552011368",
  appId: "1:777552011368:web:8dc7e8cc00644b23dc9bdd"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);
const provider = new GoogleAuthProvider();

/* ğŸ” Ø§Ù„Ø£Ø¯Ù…Ù† */
const ADMINS = ["heemoxo41430@gmail.com","heemor14@gmail.com"];

window.login = async () => {
  const r = await signInWithPopup(auth, provider);
  if(!ADMINS.includes(r.user.email)){
    alert("ØºÙŠØ± Ù…ØµØ±Ø­ Ù„Ùƒ");
    return;
  }
  document.getElementById("panel").classList.remove("hidden");
  document.getElementById("loginBtn").style.display="none";
};

window.addWorkshop = async () => {
  await addDoc(collection(db,"workshops"),{
    name:name.value,
    spec:spec.value,
    cat:category.value,
    phone:phone.value,
    loc:loc.value,
    rate:+rate.value
  });
  alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© âœ…");
};
</script>
</head>

<body>

<div class="container">
  <button id="loginBtn" onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (Ø£Ø¯Ù…Ù†)</button>

  <div id="panel" class="card hidden">
    <h3>Ø¥Ø¶Ø§ÙØ© ÙˆØ±Ø´Ø©</h3>
    <input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„ÙˆØ±Ø´Ø©">
    <input id="spec" placeholder="Ø§Ù„ØªØ®ØµØµ">
    <select id="category">
      <option value="cars">Ø³ÙŠØ§Ø±Ø§Øª</option>
      <option value="metal">Ø­Ø¯Ø§Ø¯Ø©</option>
      <option value="sofa">ÙƒÙ†Ø¨</option>
      <option value="aluminum">Ø£Ù„Ù…Ù†ÙŠÙˆÙ…</option>
    </select>
    <input id="phone" placeholder="Ø§Ù„Ø¬ÙˆØ§Ù„">
    <input id="loc" placeholder="Ø§Ù„Ù…ÙˆÙ‚Ø¹">
    <select id="rate">
      <option value="5">â˜…â˜…â˜…â˜…â˜…</option>
      <option value="4">â˜…â˜…â˜…â˜…â˜†</option>
      <option value="3">â˜…â˜…â˜…â˜†â˜†</option>
    </select>
    <button onclick="addWorkshop()">Ø¥Ø¶Ø§ÙØ©</button>
  </div>
</div>

</body>
</html>
